<app-modal-cmp [toggle]="loading">
  <div class="d-flex justify-content-center align-items-center" style="height: 350px;"><app-loader></app-loader></div>
</app-modal-cmp>

<app-page-header info="Ficha del paciente"></app-page-header>

<div class="page-wrapper animate__animated animate__fadeIn">

  <div class="container">
    <h4 class="mb-3">{{data.name}} {{data.lastname}} {{data.lastname2}} <span class="badge-{{data.stage}}">{{data.stageName}}</span></h4>
    <ul ngbNav #nav="ngbNav" [(activeId)]="active" class="nav-tabs">
      <li [ngbNavItem]="1" [class.active]="active == 1">
        <button class="nav-icon" ngbNavLink (click)="active=1">
          <img src="assets/icon/user.png" />
          <span>Ficha general</span>
        </button>
        <ng-template ngbNavContent>
         <div class="px-5 py-2">
          <div class="row my-2">
            <div class="col-4">
              <label>Nombre:</label>
              <input type="text" class="form-control" [(ngModel)]="data.name" />
            </div>
            <div class="col-4">
              <label>Apellido Paterno:</label>
              <input type="text" class="form-control" [(ngModel)]="data.lastname" />
            </div>
            <div class="col-4">
              <label>Apellido Materno:</label>
              <input type="text" class="form-control" [(ngModel)]="data.lastname2" />
            </div>
          </div>
          <div class="row my-2">
            <div class="col-4">
              <label>Email:</label>
              <input type="text" class="form-control" [(ngModel)]="data.email" />
            </div>
            <div class="col-4">
              <label>Teléfono:</label>
              <input type="text" class="form-control" [(ngModel)]="data.phone" />
            </div>
            <div class="col-4">
              <label>Teléfono 2:</label>
              <input type="text" class="form-control" [(ngModel)]="data.phone2" />
            </div>
          </div> 
          <div class="row my-2">
            <div class="col-4">
              <label>Previsión:</label>
              <input type="text" class="form-control" [(ngModel)]="data.health" />
            </div> 
          </div>  
          <div class="row my-2">
            <div class="col text-end">
              <button class="btn btn-success">Guardar cambios</button>
            </div>
          </div>
         </div> 
        </ng-template>
      </li>
      <li [ngbNavItem]="2" [class.active]="active == 2">
        <button class="nav-icon" ngbNavLink (click)="active=2">
          <img src="assets/icon/calendar.png" />
          <span>Consultas</span>
        </button>
        <ng-template ngbNavContent>
          <div class="px-5 py-2">
            <div class="row my-2">
              <div class="col-12">
                <div class="session p-2" *ngFor="let d of data.dates">
                  <div class="row">
                    <div class="col text-center">
                      <h5 class="m-0 p-0">{{d.date}}</h5>
                      <h6 class="m-0 p-0">{{d.time}}</h6>
                    </div>
                    <div class="col-9">
                      <div class="row"> 
                        <div class="col">
                          <b>Atendido por:</b><br>
                          No ingresado
                        </div>
                        <div class="col">
                          <b>Recetas:</b><br>
                          No ingresado
                        </div>
                        <div class="col">
                          <b>Interconsultas:</b><br>
                          No ingresado
                        </div>
                        <div class="col">
                          <b>Observaciones:</b><br>
                          No ingresado
                        </div>
                        <div class="col">
                          <b>Triage:</b><br />
                          No ingresado
                        </div>
                      </div> 
                    </div>
                    <div class="col-1">
                      <button (click)="editar('faedit')" class="btn btn-sm btn-primary"><fa-icon [icon]="faEdit"></fa-icon></button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
           </div> 
        </ng-template>
      </li>
      <li [ngbNavItem]="7" [class.active]="active == 7">
        <button class="nav-icon" ngbNavLink (click)="active=7">
          <img src="assets/icon/hospital.png" />
          <span>Ficha Clínica</span>
        </button>
        <ng-template ngbNavContent>
          <div class="px-5 py-2">
            <div class="row my-2">
              <div class="col-12">

                <h6 class="my-2">&Uacute;ltimo triage (10/09/2023):</h6>
                <div class="session p-2">
                  <div class="row"> 
                    <div class="col">
                      <b>Peso:</b><br>
                      0 kg
                    </div>
                    <div class="col">
                      <b>Altura:</b><br>
                      0 cm
                    </div>
                    <div class="col">
                      <b>Temperatura (C):</b><br>
                      0&deg;
                    </div>
                    <div class="col">
                      <b>Presión:</b><br>
                      110/80
                    </div>
                  </div> 
                </div>
                <br /><br />
                <h6 class="my-2">Formularios clínicos</h6>
                <div class="session p-2">
                  <div class="row"> 
                    <div class="col-2">
                      <b>Toma de muestras:</b>
                    </div>
                    <div class="col-8">
                      No se ha ingresado toma de muestras
                    </div>
                    <div class="col">
                      <button (click)="editar('faedit')" class="btn btn-sm btn-primary">Actualizar</button>
                    </div> 
                  </div> 
                </div>

              </div>
            </div>
           </div> 
        </ng-template>
      </li>
      <li [ngbNavItem]="3" [class.active]="active == 3">
        <button class="nav-icon" ngbNavLink (click)="active=3">
          <img src="assets/icon/evolution.png" />
          <span>Evoluciones</span>
        </button>
        <ng-template ngbNavContent>
          <div class="px-5 py-2">
            <div class="row my-2">
              <div class="col-12">

                <h6 class="my-2">Evoluciones:</h6>
              </div>
           </div>
           <div class="row my-2">
            <div class="col text-end">
              <button class="btn btn-success">Ingresar evolución</button>
            </div>
           </div>
          </div> 
        </ng-template>
      </li>
      <li [ngbNavItem]="4" [class.active]="active == 4">
        <button class="nav-icon" ngbNavLink (click)="active=4">
          <img src="assets/icon/heart-rate-monitor.png" />
          <span>Exámenes</span>
        </button>
        <ng-template ngbNavContent>
          <div class="px-5 py-2">
            <div class="row my-2">
              <div class="col-12">

                <h6 class="my-2">Exámenes:</h6>
              </div>
           </div>
           <div class="row my-2">
            <div class="col text-end">
              <button class="btn btn-success">Ingresar examen</button>
            </div>
           </div>
          </div> 
        </ng-template>
      </li>

      
      <li [ngbNavItem]="8" [class.active]="active == 8">
        <button class="nav-icon" ngbNavLink (click)="active=8">
          <img src="assets/icon/surgery-room.png" />
          <span>Operatorio</span>
        </button>
        <ng-template ngbNavContent>
          <div class="px-5 py-2">
            <div class="row my-2">
              <div class="col-12">

                <h6 class="my-2">Cirugias:</h6>
              </div>
           </div>
           <div class="row my-2">
            <div class="col text-end">
              <button class="btn btn-success">Crear preoperatorio</button>
            </div>
           </div>
          </div> 
        </ng-template>
      </li>
      <li [ngbNavItem]="5" [class.active]="active == 5">
        <button class="nav-icon" ngbNavLink (click)="active=5">
          <img src="assets/icon/prescription.png" />
          <span>Recetas</span>
        </button>
        <ng-template ngbNavContent>
          <p>

          </p>
        </ng-template>
      </li>
      <li [ngbNavItem]="6" [class.active]="active == 6">
        <button class="nav-icon" ngbNavLink (click)="active=6">
          <img src="assets/icon/doctor.png" />
          <span>Interconsultas</span>
        </button>
        <ng-template ngbNavContent>
          <p>

          </p>
        </ng-template>
      </li>      
    </ul>
    
    <div [ngbNavOutlet]="nav" class="mt-2"></div>

  </div>
</div>
